# 👨‍💼 创建管理员用户指南

## 🎯 目标
为学位英语学习平台创建一个管理员用户，用于系统管理和测试。

## 📋 管理员用户信息
- **邮箱**: `admin@bachelor-english.com`
- **用户名**: `admin`
- **密码**: `admin123456`
- **角色**: `admin`
- **等级**: `advanced`

## 🚀 创建方法

### 方法一：通过DataGrip执行SQL（推荐）

1. **在DataGrip中连接到您的数据库**

2. **执行以下SQL脚本**：
```sql
-- 插入管理员用户
INSERT INTO users (
    id,
    email,
    username,
    password,
    level,
    role,
    isActive,
    createdAt,
    updatedAt
) VALUES (
    'admin-user-id-001',
    'admin@bachelor-english.com',
    'admin',
    '$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/8Kz8KzK', -- 密码: admin123456
    'advanced',
    'admin',
    1,
    datetime('now'),
    datetime('now')
);
```

3. **验证创建结果**：
```sql
SELECT 
    id,
    email,
    username,
    role,
    level,
    isActive,
    createdAt
FROM users 
WHERE role = 'admin';
```

### 方法二：通过API注册（如果后端运行正常）

1. **启动后端服务器**：
```bash
cd backend
npm run dev
```

2. **发送注册请求**：
```bash
curl -X POST http://localhost:3001/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@bachelor-english.com",
    "username": "admin",
    "password": "admin123456",
    "confirmPassword": "admin123456"
  }'
```

3. **手动更新用户角色**（在DataGrip中执行）：
```sql
UPDATE users 
SET role = 'admin', level = 'advanced' 
WHERE email = 'admin@bachelor-english.com';
```

### 方法三：使用Node.js脚本

1. **确保数据库连接正常**

2. **运行脚本**：
```bash
cd backend
node scripts/create-admin.js
```

## 🔧 数据库配置检查

### 如果使用SQLite
确保 `.env` 文件包含：
```bash
DATABASE_URL="file:./dev.db"
```

### 如果使用MySQL
确保 `.env` 文件包含：
```bash
DATABASE_URL="mysql://username:password@localhost:3306/database_name"
```

## 🎉 验证管理员用户

创建成功后，您应该能够：

1. **在DataGrip中看到用户记录**
2. **使用管理员账户登录系统**
3. **拥有管理员权限**

## 🔐 安全提醒

- 生产环境中请修改默认密码
- 定期更换管理员密码
- 限制管理员账户的访问权限

## 📞 需要帮助？

如果遇到问题，请检查：
1. 数据库连接是否正常
2. 表结构是否正确创建
3. 环境变量配置是否正确

需要我协助您解决任何问题吗？
