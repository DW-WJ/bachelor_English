# 🚀 快速启动指南

## 📋 当前状态

项目已经创建完成，但需要配置数据库才能启动。我们提供了两种启动方案：

## 🎯 方案一：使用SQLite（推荐，无需安装MySQL）

### 1. 设置环境变量

在 `backend` 目录下创建 `.env` 文件：

```bash
# 在 bachelor-english-platform/backend/ 目录下创建 .env 文件
DATABASE_URL="file:./dev.db"
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="7d"
PORT=3001
NODE_ENV="development"
FRONTEND_URL="http://localhost:3000"
BCRYPT_ROUNDS=12
```

### 2. 安装依赖并启动

```bash
# 在项目根目录执行
npm run install:all

# 设置数据库（生成客户端、迁移、种子数据）
cd backend
npm run db:generate
npm run db:migrate
npm run db:seed

# 返回根目录启动项目
cd ..
npm run dev
```

## 🎯 方案二：使用MySQL（完整配置）

### 1. 安装MySQL

**Windows:**
```bash
# 下载MySQL Installer
# https://dev.mysql.com/downloads/installer/
```

**macOS:**
```bash
brew install mysql
brew services start mysql
```

**Linux:**
```bash
sudo apt update
sudo apt install mysql-server
sudo systemctl start mysql
```

### 2. 创建数据库

```sql
-- 连接到MySQL
mysql -u root -p

-- 创建数据库
CREATE DATABASE bachelor_english_platform CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'bachelor_user'@'localhost' IDENTIFIED BY 'your_secure_password';
GRANT ALL PRIVILEGES ON bachelor_english_platform.* TO 'bachelor_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

### 3. 配置环境变量

在 `backend` 目录下创建 `.env` 文件：

```bash
DATABASE_URL="mysql://bachelor_user:your_secure_password@localhost:3306/bachelor_english_platform"
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="7d"
PORT=3001
NODE_ENV="development"
FRONTEND_URL="http://localhost:3000"
BCRYPT_ROUNDS=12
```

### 4. 更新Prisma配置

将 `backend/prisma/schema.prisma` 中的数据库提供者改回MySQL：

```prisma
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
```

### 5. 启动项目

```bash
npm run install:all
cd backend
npm run db:generate
npm run db:migrate
npm run db:seed
cd ..
npm run dev
```

## 🌐 访问应用

启动成功后，您可以访问：

- **前端应用**: http://localhost:3000
- **后端API**: http://localhost:3001
- **API文档**: http://localhost:3001/api/v1
- **数据库管理**: `cd backend && npm run db:studio`

## 🔧 常见问题

### 问题1：数据库连接失败
**解决方案**: 检查 `.env` 文件中的 `DATABASE_URL` 是否正确

### 问题2：端口被占用
**解决方案**: 修改 `.env` 文件中的 `PORT` 值

### 问题3：Prisma客户端未生成
**解决方案**: 运行 `cd backend && npm run db:generate`

### 问题4：迁移失败
**解决方案**: 删除 `backend/prisma/migrations` 文件夹，重新运行迁移

## 📝 下一步

项目启动成功后，您可以：

1. **测试API**: 访问 http://localhost:3001/api/v1
2. **查看数据库**: 运行 `cd backend && npm run db:studio`
3. **开始开发**: 基于现有架构添加新功能
4. **自定义UI**: 修改前端组件和样式

## 🎉 推荐使用方案一

**建议使用SQLite方案**，因为：
- ✅ 无需安装额外软件
- ✅ 配置简单
- ✅ 适合开发和测试
- ✅ 可以随时切换到MySQL

需要我帮您执行哪个方案吗？
